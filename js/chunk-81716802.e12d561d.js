(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-81716802","chunk-2d0c1aed"],{"46a6":function(e,t,a){"use strict";a.r(t);var n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{staticStyle:{"margin-bottom":"4px"},attrs:{span:24}},[a("j-vxe-table",{attrs:{toolbar:"","row-number":"","row-selection":"","click-select-row":"","highlight-current-row":"","radio-config":{highlight:!1},"checkbox-config":{highlight:!1},height:340,loading:e.table1.loading,columns:e.table1.columns,dataSource:e.table1.dataSource,pagination:e.table1.pagination},on:{pageChange:e.handleTable1PageChange,selectRowChange:e.handleTable1SelectRowChange}})],1),a("a-col",{attrs:{span:12}},[a("j-vxe-table",{attrs:{toolbar:"","row-number":"","row-selection":"","click-select-row":"","highlight-current-row":"","radio-config":{highlight:!1},"checkbox-config":{highlight:!1},height:340,loading:e.table2.loading,columns:e.table2.columns,dataSource:e.table2.dataSource,pagination:e.table2.pagination},on:{pageChange:e.handleTable2PageChange,selectRowChange:e.handleTable2SelectRowChange}})],1),a("a-col",{attrs:{span:12}},[a("j-vxe-table",{attrs:{toolbar:"","row-number":"","row-selection":"",height:340,loading:e.table3.loading,columns:e.table3.columns,dataSource:e.table3.dataSource,pagination:e.table3.pagination},on:{pageChange:e.handleTable3PageChange}})],1)],1)],1)},r=[],l=a("0fea"),o=a("2475");function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c={name:"Template1",data:function(){return{table1:{loading:!1,pagination:{current:1,pageSize:200,pageSizeOptions:["10","20","30","100","200"],total:0},lastRow:null,selectedRows:[],dataSource:[],columns:[{key:"num",title:"序号",width:"80px"},{key:"ship_name",title:"船名",width:"180px",type:o["b"].input,formatter:function(e){var t=e.cellValue,a=e.row,n=(e.column,"");return"佧伒侾佯有限公司"===a.company&&(n+="-233"),t+n}},{key:"call",title:"呼叫",width:"80px",type:o["b"].input},{key:"len",title:"长",width:"80px",type:o["b"].inputNumber},{key:"ton",title:"吨",width:"120px",type:o["b"].inputNumber},{key:"payer",title:"付款方",width:"120px",type:o["b"].input},{key:"count",title:"数",width:"40px"},{key:"company",title:"公司",minWidth:"180px",type:o["b"].input},{key:"trend",title:"动向",width:"120px",type:o["b"].input}]},table2:{loading:!1,pagination:{current:1,pageSize:200,pageSizeOptions:["100","200"],total:0},lastRow:null,selectedRows:[],dataSource:[],columns:[{key:"dd_num",title:"调度序号",width:"120px"},{key:"tug",title:"拖轮",width:"180px",type:o["b"].input},{key:"work_start_time",title:"作业开始时间",width:"180px",type:o["b"].input},{key:"work_stop_time",title:"作业结束时间",width:"180px",type:o["b"].input},{key:"type",title:"船舶分类",width:"120px",type:o["b"].input},{key:"port_area",title:"所属港区",width:"120px",type:o["b"].input}]},table3:{loading:!1,pagination:{current:1,pageSize:200,pageSizeOptions:["100","200"],total:0},selectedRows:[],dataSource:[],columns:[{key:"dd_num",title:"调度序号",width:"120px"},{key:"tug",title:"拖轮",width:"120px",type:o["b"].input},{key:"power",title:"马力",width:"120px",type:o["b"].input},{key:"nature",title:"性质",width:"120px",type:o["b"].input},{key:"departure_time",title:"发船时间",width:"180px",type:o["b"].input}]},url:{getData:"/mock/vxe/getData"}}},watch:(n={},s(n,"table1.lastRow",(function(e){this.loadTable2Data()})),s(n,"table2.lastRow",(function(){this.loadTable3Data()})),n),created:function(){this.loadTable1Data()},methods:{loadTable1Data:function(){var e=this,t={pageNo:this.table1.pagination.current,pageSize:this.table1.pagination.pageSize};this.table1.loading=!0,Object(l["d"])(this.url.getData,t).then((function(t){t.success?(e.table1.pagination.total=t.result.total,e.table1.dataSource=t.result.records,e.table1.selectedRows=[]):e.$error({title:"主表查询失败",content:t.message})})).finally((function(){e.table1.loading=!1}))},handleTable1PageChange:function(e){this.table1.pagination.current=e.current,this.table1.pagination.pageSize=e.pageSize,this.loadTable1Data()},handleTable1SelectRowChange:function(e){this.handleTableSelectRowChange(this.table1,e)},loadTable2Data:function(){var e=this,t=this.table1.selectedRows;if(!t||0===t.length)return this.table2.pagination.total=0,this.table2.dataSource=[],void(this.table2.selectedRows=[]);null==this.table1.lastRow&&(this.table1.lastRow=t[t.length-1]);var a={parentId:this.table1.lastRow.id,pageNo:this.table2.pagination.current,pageSize:this.table2.pagination.pageSize};this.table2.loading=!0,Object(l["d"])(this.url.getData,a).then((function(t){t.success?(e.table2.pagination.total=t.result.total,e.table2.dataSource=t.result.records,e.table2.selectedRows=[]):e.$error({title:"子表查询失败",content:t.message})})).finally((function(){e.table2.loading=!1}))},handleTable2SelectRowChange:function(e){this.handleTableSelectRowChange(this.table2,e)},handleTable2PageChange:function(e){this.table2.pagination.current=e.current,this.table2.pagination.pageSize=e.pageSize,this.loadTable2Data()},loadTable3Data:function(){var e=this,t=this.table2.selectedRows;if(!t||0===t.length)return this.table3.pagination.total=0,this.table3.dataSource=[],void(this.table3.selectedRows=[]);null==this.table2.lastRow&&(this.table2.lastRow=t[t.length-1]);var a={parentId:this.table2.lastRow.id,pageNo:this.table3.pagination.current,pageSize:this.table3.pagination.pageSize};this.table3.loading=!0,Object(l["d"])(this.url.getData,a).then((function(t){t.success?(e.table3.pagination.total=t.result.total,e.table3.dataSource=t.result.records):e.$error({title:"子表查询失败",content:t.message})})).finally((function(){e.table3.loading=!1}))},handleTable3PageChange:function(e){this.table3.pagination.current=e.current,this.table3.pagination.pageSize=e.pageSize,this.loadTable3Data()},handleTableSelectRowChange:function(e,t){var a=t.row,n=t.action,i=t.selectedRows,r=t.$table,l=i[i.length-1];"selected"===n?e.lastRow=a:"selected-all"===n?0===i.length?e.lastRow=null:e.lastRow||(e.lastRow=l):"unselected"===n&&a===e.lastRow&&(e.lastRow=l),r.setCurrentRow(e.lastRow),e.selectedRows=i}}},u=c,d=a("2877"),p=Object(d["a"])(u,i,r,!1,null,null,null);t["default"]=p.exports},"5c96":function(e,t,a){"use strict";var n=a("e2f5"),i=a.n(n);i.a},b484:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[a("a-row",{attrs:{gutter:24}},[e.isUser?e._e():a("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[a("a-form-item",{attrs:{label:"承兑商ID"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入承兑商ID"},model:{value:e.queryParam.iUserId,callback:function(t){e.$set(e.queryParam,"iUserId",t)},expression:"queryParam.iUserId"}})],1)],1),e.isUser?e._e():a("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[a("a-form-item",{attrs:{label:"承兑商昵称"}},[a("j-input",{attrs:{placeholder:"请输入承兑商昵称",type:"normal"},model:{value:e.queryParam.sNickName,callback:function(t){e.$set(e.queryParam,"sNickName",t)},expression:"queryParam.sNickName"}})],1)],1),a("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[a("a-form-item",{attrs:{label:"业务类型"}},[a("a-select",{attrs:{allowClear:"",placeholder:"请选择业务类型"},on:{change:e.searchQuery},model:{value:e.queryParam.iBusiType,callback:function(t){e.$set(e.queryParam,"iBusiType",t)},expression:"queryParam.iBusiType"}},[0==e.iAcctType?[a("a-select-option",{attrs:{value:1}},[e._v("充币")]),a("a-select-option",{attrs:{value:2}},[e._v("提币")]),a("a-select-option",{attrs:{value:3}},[e._v("提现订单")]),a("a-select-option",{attrs:{value:4}},[e._v("充值订单")]),a("a-select-option",{attrs:{value:81}},[e._v("虚拟充值")]),a("a-select-option",{attrs:{value:101}},[e._v("追加保证金")]),a("a-select-option",{attrs:{value:102}},[e._v("解冻保证金")])]:e._e(),1==e.iAcctType?[a("a-select-option",{attrs:{value:2}},[e._v("提取奖励")]),a("a-select-option",{attrs:{value:103}},[e._v("奖励发放")])]:e._e()],2)],1)],1),a("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[a("a-form-item",{attrs:{label:"记录时间"}},[a("a-range-picker",{staticStyle:{"margin-bottom":"24px","margin-right":"8px"},attrs:{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"]},on:{change:e.onCreateTimeChange},model:{value:e.queryParam.iCreateTime,callback:function(t){e.$set(e.queryParam,"iCreateTime",t)},expression:"queryParam.iCreateTime"}})],1)],1),a("span",{staticClass:"table-page-search-submitButtons",staticStyle:{display:"inline-block",overflow:"hidden","vertical-align":"top"}},[a("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("重置")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:function(t){return e.handleExportXls(e.fileName)}}},[e._v("下载明细")]),e.isUser?a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.$emit("back")}}},[e._v("返回资产列表")]):e._e()],1)],1)],1)],1)],1),a("div",[a("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"iId",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:null},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"iDirection",fn:function(t,n){return a("span",{},[1==t?a("span",[e._v("收入")]):e._e(),4==t?a("span",[e._v("支出")]):e._e()])}},{key:"iBusiType",fn:function(t,n){return a("span",{},[1==t?a("span",[e._v("充币")]):e._e(),2==t?a("span",[e._v("提币")]):e._e(),3==t?a("span",[e._v("提现订单")]):e._e(),4==t?a("span",[e._v("充值订单")]):e._e(),81==t?a("span",[e._v("虚拟充值")]):e._e(),101==t?a("span",[e._v("追加保证金")]):e._e(),102==t?a("span",[e._v("解冻保证金")]):e._e(),103==t?a("span",[e._v("奖励发放")]):e._e()])}}])})],1)])},i=[],r=a("8c6e"),l=a("4349"),o=a("89f2"),s=a("1b3c"),c=a("2b0e"),u=a("0fea"),d=a("5a0c"),p=a.n(d),h=a("c6f6"),g=a("46a6");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y={name:"UserJournalList",props:{iAcctType:{Number:Number,default:0},isUser:{Boolean:Boolean,default:!1},userId:{Number:Number}},mixins:[s["a"],h["a"]],components:{Template1:g["default"],JSuperQuery:r["default"],JInput:l["default"]},data:function(){var e=this;return{description:"UserJournalList",sexDictOptions:[],fileName:"记录",resultName:"vList",queryParam:{iAcctType:this.iAcctType,iUserId:this.isUser?this.userId:void 0},columns:[],settingColumns:[],defColumns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(t,a,n){return parseInt(n)+1+(e.ipagination.current-1)*e.ipagination.pageSize}},{title:"用户ID",align:"center",dataIndex:"iUserId"},{title:"昵称",align:"center",dataIndex:"sNickName"},{title:"流水类型",align:"center",dataIndex:"iDirection",scopedSlots:{customRender:"iDirection"}},{title:"业务类型",align:"center",dataIndex:"iBusiType",scopedSlots:{customRender:"iBusiType"}},{title:"余额",align:"center",dataIndex:"iAvailableAmount",customRender:function(e,t,a){return Number(t.iAvailableAmount)+Number(t.iFrozenAmount)}},{title:"余额变动",align:"center",dataIndex:"iAvailableChange",customRender:function(e,t,a){var n;return 1==t.iDirection&&(n=t.iAvailableChange),4==t.iDirection&&(n=t.iFrozenChange),n}},{title:"币种",align:"center",dataIndex:"sToken"},{title:"记录时间",align:"center",dataIndex:"iCreateTime",customRender:function(e,t,a){return p()(e).format("YYYY-MM-DD HH:mm:ss")}}],url:{list:"/v1/udc/GetUserJournalList",exportXlsUrl:"/mx/viewCashFlow/exportXls"}}},methods:{initDictConfig:function(){var e=this;Object(o["d"])("sex").then((function(t){t.success&&(e.sexDictOptions=t.result)}))},onColSettingsChange:function(e){var t=this,a=this.$route.name+":colsettings";c["default"].ls.set(a,e,6048e5),this.settingColumns=e;var n=this.defColumns.filter((function(e){return"rowIndex"==e.key||"action"==e.dataIndex||!!t.settingColumns.includes(e.dataIndex)}));this.columns=n},initColumns:function(){var e=this.$route.name+":colsettings",t=c["default"].ls.get(e);if(null==t||void 0==t){var a=[];this.defColumns.forEach((function(e,t,n){a.push(e.dataIndex)})),this.settingColumns=a,this.columns=this.defColumns}else{this.settingColumns=t;var n=this.defColumns.filter((function(e){return"rowIndex"==e.key||"action"==e.dataIndex||!!t.includes(e.dataIndex)}));this.columns=n}},onCreateTimeChange:function(e,t){this.queryParam.iCreateTime_Begin=p()(t[0]).startOf("day").valueOf(),this.queryParam.iCreateTime_End=p()(t[1]).endOf("day").valueOf(),this.searchQuery()},changeCurrentPage:function(e,t){this.ipagination.current=e,this.ipagination.pageSize=t,this.loadData()},showSizeChange:function(e,t){var a=(this.current-1)*this.pageSize;this.ipagination.current=0==a?1:Math.ceil(a/t),this.ipagination.pageSize=t,this.loadData()},searchReset:function(){this.queryParam={iAcctType:this.iAcctType,iUserId:this.isUser?this.userId:void 0},this.loadData(1)},handleExportXls:function(e){var t=this;e&&"string"==typeof e||(e="导出文件");var a=m({},this.queryParam);delete a.iPageNo,delete a.iPageSize,this.selectedRowKeys&&this.selectedRowKeys.length>0&&(a["selections"]=this.selectedRowKeys.join(","));var n=this.url.exportXlsUrl;a.iCreateTime_Begin&&(a.SCreateTime_begin=p()(a.iCreateTime_Begin).format("YYYY-MM-DD HH:mm:ss")),a.iCreateTime_End&&(a.SCreateTime_end=p()(a.sCreateTime_End).format("YYYY-MM-DD HH:mm:ss")),delete a.iCreateTime,delete a.iCreateTime_Begin,delete a.iCreateTime_End,Object(u["b"])(n,a).then((function(a){if(a)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([a],{type:"application/vnd.ms-excel"}),e+".xls");else{var n=window.URL.createObjectURL(new Blob([a],{type:"application/vnd.ms-excel"})),i=document.createElement("a");i.style.display="none",i.href=n,i.setAttribute("download",e+".xls"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}else t.$message.warning("文件下载失败")}))}},created:function(){this.initColumns()}},w=y,v=(a("5c96"),a("2877")),C=Object(v["a"])(w,n,i,!1,null,"722119a3",null);t["default"]=C.exports},c6f6:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("2f62");function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o={data:function(){return{selecedChain:null,selecedChainTwo:null,needTag:!1}},computed:{chains:function(){var e=this.getChains();return e},tokens:function(){return this.getAllTokenList()},tokenNames:function(){var e=this.getTokenNames()||[];return e},chainTokens:function(){var e=this,t=this.chains.findIndex((function(t){return t.sChain==e.selecedChain}));return t<0?[]:this.chains[t].children},chainTokensTwo:function(){var e=this,t=this.chains.findIndex((function(t){return t.sChain==e.selecedChainTwo}));return t<0?[]:this.chains[t].children}},methods:r({},Object(n["c"])(["getChains","getTokenNames","getAllTokenList"]),{},Object(n["b"])(["GetTokens"]),{onChainChange:function(e){this.selecedChain=e,this.needTag=this.chains.find((function(t){return t.sChain===e})).iNeedTag,this.form.setFieldsValue({sToken:void 0})}})}},e2f5:function(e,t,a){}}]);