(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b634b"],{"1bbf":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-spin",{attrs:{spinning:e.loading}},[0===e.bankCards.length?a("a-empty",{staticStyle:{"margin-top":"100px"},attrs:{description:"暂无待审核的银行卡"}}):e._e(),e._l(e.bankCards,(function(t){return a("div",{key:t.iId,staticStyle:{"margin-bottom":"2rem"}},[a("a-descriptions",{staticStyle:{"margin-bottom":"2rem"},attrs:{title:"银行卡信息",bordered:""}},[a("a-descriptions-item",{attrs:{label:"银行名",span:4}},[e._v("\n          "+e._s(t.sBankName)+"\n        ")]),a("a-descriptions-item",{attrs:{label:"银行支行",span:4}},[e._v("\n          "+e._s(t.sSubbranchBankName)+"\n        ")]),a("a-descriptions-item",{attrs:{label:"账户名",span:4}},[e._v("\n          "+e._s(t.sName)+"\n        ")]),a("a-descriptions-item",{attrs:{label:"银行账号",span:4}},[e._v("\n          "+e._s(t.sAccount)+"\n        ")])],1),1!==t.iStatus?a("div",{staticStyle:{"margin-bottom":"32px"}},[a("a-descriptions",{attrs:{title:"审核信息",bordered:""}},[a("a-descriptions-item",{attrs:{label:"审核人",span:3}},[e._v("\n            "+e._s(t.sApprovalId)+"\n          ")]),a("a-descriptions-item",{attrs:{label:"审核结果",span:3}},[e._v("\n            "+e._s(2===t.iStatus?"审核通过":"审核驳回")+"\n          ")]),a("a-descriptions-item",{attrs:{label:2===t.iStatus?"备注":"驳回理由",span:3}},[e._v("\n            "+e._s(t.sRemark)+"\n          ")])],1)],1):e._e()],1)})),12==e.authData.iStep?a("a-form",{attrs:{form:e.form}},[a("a-form-item",[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["iResult",e.validatorRules.iResult],expression:"['iResult', validatorRules.iResult]"}],attrs:{"button-style":"solid"},on:{change:e.onResultChange}},[a("a-radio-button",{attrs:{value:2}},[e._v("\n            通过\n          ")]),a("a-radio-button",{attrs:{value:3}},[e._v("\n            拒绝\n          ")])],1)],1),2===e.iResult?a("a-form-item",{attrs:{label:"备注"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["sReason",e.validatorRules.sReason],expression:"['sReason', validatorRules.sReason]"}],attrs:{placeholder:"请输入备注(最多40个字)",maxLength:40,"auto-size":{minRows:4,maxRows:6},size:"large"}})],1):e._e(),3===e.iResult?a("a-form-item",{attrs:{label:"拒绝理由"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["sReasonDetail",e.validatorRules.sReasonDetail],expression:"['sReasonDetail', validatorRules.sReasonDetail]"}],attrs:{placeholder:"请填写拒绝原因",maxLength:40,"auto-size":{minRows:4,maxRows:6}}})],1):e._e()],1):e._e(),12==e.authData.iStep?a("div",{staticStyle:{"text-align":"center"}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleOk}},[e._v("审核提交")])],1):e._e()],2)],1)},r=[],n=a("0fea"),i=a("2f62");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c={name:"BankCardAuth",props:{authData:Object},data:function(){return{loading:!1,bankCards:[],url:{list:"/v1/otc/GetPayModeList",ApprovalPayMode:"/v1/otc/ApprovalPayMode"},iResult:2,reason:null,sReason:null,form:this.$form.createForm(this),validatorRules:{iResult:{rules:[{required:!0,type:"number"}],initialValue:2},sReason:{rules:[{required:!0,message:"不能为空"}]},sReasonDetail:{rules:[{required:!0,message:"不能为空"}]}}}},created:function(){var e=this;this.loading=!0;var t={iPageNo:0,iPageSize:10,iUserId:this.authData.iUserId};Object(n["j"])(this.url.list,t).then((function(t){e.bankCards=t.result.data.vList})).finally((function(){e.loading=!1}))},methods:l({},Object(i["c"])(["userInfo"]),{handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,s){if(!a){t.loading=!0;var r="",i="post";r+=e.url.ApprovalPayMode;var o={iId:e.bankCards[0].iId,iStatus:s.iResult,sApprovalId:e.userInfo().username};2==s.iResult&&(o.sRemark=s.sReason),3==s.iResult&&(o.sRemark=s.sReasonDetail),Object(n["i"])(r,o,i).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.loading=!1}))}}))},onResultChange:function(e){this.iResult=e.target.value,this.reason=null,this.sReason=null,this.form.setFieldsValue({sReason:void 0})}})},d=c,p=a("2877"),m=Object(p["a"])(d,s,r,!1,null,"e1cd84b8",null);t["default"]=m.exports}}]);