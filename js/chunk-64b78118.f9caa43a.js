(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64b78118","chunk-2d0af4e8"],{"0e85":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,destroyOnClose:!0,maskClosable:!1,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"冷钱包",hasFeedback:""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sChain",e.validatorRules.sChain],expression:"['sChain', validatorRules.sChain]"}],attrs:{placeholder:"请选择冷钱包",showSearch:""},on:{change:e.onChooseChange}},e._l(e.chains,(function(t,n){return a("a-select-option",{key:n,attrs:{value:t.iId}},[e._v(e._s(t.sRemark)+"("+e._s(t.sAddress)+")")])})),1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"金额",hasFeedback:""}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sName",e.validatorRules.sName],expression:"['sName',  validatorRules.sName]"}],attrs:{placeholder:"请输入金额",maxLength:50}})],1)],1)],1)],1)},r=[],s=a("0fea"),i={name:"HotMomeyModal",data:function(){return{chains:[],coldtotal:"",dataSourceiId:"",title:"转到冷钱包",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{sChain:{rules:[{required:!0,message:"请选择冷钱包"}]},sName:{rules:[{required:!0,message:"请输入金额"},{validator:this.sAmount}]}},url:{list:"/v1/core/GetColdAddressList",add:"/v1/core/AddMerchantWallet"},selecedChain:null}},created:function(){},methods:{onChooseChange:function(){},sAmount:function(e,t,a){Number(this.model.dBalance)<Number(t)&&a(new Error("输入金额不可以大于可用余额"));var n=/^\d+(\.\d+)?$/;0==n.test(t)&&a(new Error("请输入正确的金额")),0==t&&a(new Error("请输入正确的金额")),a()},init:function(e,t){var a=this;this.dataSourceiId=e.iId,this.visible=!0,this.$nextTick((function(){a.form.setFieldsValue({sName:Number(e.dBalance)})})),this.form.validateFields();var n=this,r="post",i={};this.superQueryParams&&(i["superQueryParams"]=encodeURI(this.superQueryParams),i["superQueryMatchType"]=this.superQueryMatchType);var o=Object.assign(i,this.queryParam,this.isorter,this.filters);o.iPageNo=0,o.iPageSize=20,o.sOrder="",o.sColumn="",o.sChain=e.sChain,o.sToken=e.sToken,n.coldtotal=e.dBalance,Object(s["i"])(this.url.list,o,r).then((function(e){e.success?n.chains=e.result.data.vAddr:n.$message.warning(e.message)})).finally((function(){n.confirmLoading=!1}))},add:function(){this.edit({})},edit:function(e){this.form.resetFields(),this.model=e,this.visible=!0},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,n){if(!a){t.confirmLoading=!0;var r="/v1/core/TransferToCold",i="post",o=new Object,l=!0,c=!1,u=void 0;try{for(var d,h=t.chains[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;o.iColdAddressId=f.iId}}catch(a){c=!0,u=a}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}o.iHotAddressId=t.dataSourceiId,o.sAmount=e.form.getFieldValue("sName").toString(),Object(s["i"])(r,o,i).then((function(e){e.success?t.$emit("ok"):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},o=i,l=a("2877"),c=Object(l["a"])(o,n,r,!1,null,"7bcce7d3",null);t["default"]=c.exports},"5b85":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-operator"}),a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery(t)}}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{xl:6,lg:7,md:8,sm:24}},[a("a-radio-group",{staticStyle:{"margin-bottom":"24px","margin-right":"8px"},attrs:{defaultValue:"Bitcoin"},on:{change:e.searchQuery},model:{value:e.queryParam.sChain,callback:function(t){e.$set(e.queryParam,"sChain",t)},expression:"queryParam.sChain"}},[a("a-radio-button",{attrs:{value:"Bitcoin"}},[e._v("\n                BTC钱包\n              ")]),a("a-radio-button",{attrs:{value:"Ethereum"}},[e._v("\n                ETH钱包\n              ")]),a("a-radio-button",{attrs:{value:"Tron"}},[e._v("\n                TRX钱包\n              ")])],1),a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新增热钱包")])],1)],1)],1)],1),a("a-spin",{attrs:{spinning:e.loading}},e._l(e.dataSource,(function(t,n){return a("a-card",{key:t.stWallet.iId,staticClass:"wallet-card"},[a("div",{attrs:{slot:"title"},slot:"title"},[a("a-row",[a("a-col",{attrs:{span:4}},["Bitcoin"===t.stWallet.sChain?a("a-tag",{attrs:{color:"blue"}},[e._v("BTC")]):e._e(),"Ethereum"===t.stWallet.sChain?a("a-tag",{attrs:{color:"green"}},[e._v("ETH")]):e._e(),"Tron"===t.stWallet.sChain?a("a-tag",{attrs:{color:"orange"}},[e._v("TRX")]):e._e(),e._v("\n              "+e._s(t.stWallet.sName))],1),t.vAddr.length>0?a("a-col",{attrs:{span:6}},[e._v("地址：\n              "),a("qrcode-preview",{attrs:{sAddress:t.vAddr[0].sAddress,maps:"left",title:"钱包地址二维码"}}),e.sPrAddres(t.stWallet.sChain,"sAddressQueryUrl")+"/"+t.vAddr[0].sAddress?a("a",{staticClass:"abtc-color",attrs:{href:e.sPrAddres(t.stWallet.sChain,"sAddressQueryUrl")+"/"+t.vAddr[0].sAddress,target:"_blank"}},[e._v(e._s(e._f("btcNum")(t.vAddr[0].sAddress)))]):a("a",[e._v(e._s(e._f("btcNum")(t.vAddr[0].sAddress)))]),a("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.vAddr[0].sAddress,expression:"item.vAddr[0].sAddress",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:function(){return e.$message.success("已复制到剪切板")},expression:"()=>$message.success('已复制到剪切板')",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:function(){return e.$message.error("复制失败")},expression:"()=>$message.error('复制失败')",arg:"error"}],staticStyle:{"margin-left":"16px"}},[e._v("复制")])],1):e._e(),a("a-col",{attrs:{span:8}},[e._v("\n              备注: "+e._s(t.stWallet.sRemark)+"\n            ")])],1)],1),a("div",{staticStyle:{width:"200px","text-align":"right"},attrs:{slot:"extra"},slot:"extra"},[t.stWallet.iDefaultWithdraw?a("a-tag",{attrs:{color:"orange"}},[e._v("提币钱包")]):a("span",[a("a-popconfirm",{attrs:{title:"您确定设置该钱包为提币钱包吗?设置后原钱包将不再提币"},on:{confirm:function(){return e.setDefaultWithdraw(t.stWallet.iId)}}},[a("a",[e._v("设为提币钱包")])]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{title:"确定删除该钱包吗?"},on:{confirm:function(){return e.handleDelete(t.stWallet.iId)}}},[a("a",[e._v("删除")])])],1),a("a-divider",{attrs:{type:"vertical"}}),t.showDetail?a("a",{on:{click:function(a){return e.collapse(n,t)}}},[e._v("收起")]):a("a",{on:{click:function(a){return e.collapse(n,t)}}},[e._v("展开")])],1),t.showDetail?a("a-table",{attrs:{size:"middle",rowKey:"iId",columns:e.columns,dataSource:t.vAddr,pagination:!1,rowSelection:null},scopedSlots:e._u([{key:"action",fn:function(t,n){return a("span",{},[a("a",{on:{click:function(t){return e.ColdPurse(n)}}},[e._v("转到冷钱包")])])}}],null,!0)}):e._e()],1)})),1),a("hot-momey-modal",{ref:"modalForm",on:{ok:e.modalFormOk}})],1)},r=[],s=a("0e85"),i=a("8c6e"),o=a("4349"),l=a("89f2"),c=a("1b3c"),u=a("2b0e"),d=(a("ca00"),a("0fea")),h=(a("5a0c"),a("38e6")),f=a("2f62"),m=a("c6f6");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var b={name:"HotWallet",mixins:[c["a"],m["a"]],components:{HotMomeyModal:s["default"],JSuperQuery:i["default"],QrcodePreview:h["default"],JInput:o["default"]},data:function(){return{description:"运营子账户管理",sexDictOptions:[],resultName:"vList",columns:[],settingColumns:[],defColumns:[{title:"币种",align:"center",dataIndex:"sToken"},{title:"可用余额",align:"center",dataIndex:"dBalance",customRender:function(e,t,a){return Number(e)}},{title:"提币冻结",align:"center",dataIndex:"dWithdrawFreeze",customRender:function(e,t,a){return Number(e)}},{title:"充值冻结",align:"center",dataIndex:"dDepositFreeze",customRender:function(e,t,a){return Number(e)}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],url:{list:"/v1/core/GetMerchantWalletList",SetMerchantWithdrawWallet:"/v1/core/SetMerchantWithdrawWallet",delete:"/v1/core/DelMerchantWallet"},queryParam:{sChain:"Bitcoin"}}},methods:v({},Object(f["c"])(["getCountry"]),{collapse:function(e,t){var a=this.dataSource[e],n=!t.showDetail;delete a.showDetail,this.$set(this.dataSource[e],"showDetail",n)},initDictConfig:function(){var e=this;Object(l["d"])("sex").then((function(t){t.success&&(e.sexDictOptions=t.result)}))},onBirthdayChange:function(e,t){this.queryParam.birthday_begin=t[0],this.queryParam.birthday_end=t[1]},onColSettingsChange:function(e){var t=this,a=this.$route.name+":colsettings";u["default"].ls.set(a,e,6048e5),this.settingColumns=e;var n=this.defColumns.filter((function(e){return"rowIndex"==e.key||"action"==e.dataIndex||!!t.settingColumns.includes(e.dataIndex)}));this.columns=n},initColumns:function(){var e=this.$route.name+":colsettings",t=u["default"].ls.get(e);if(null==t||void 0==t){var a=[];this.defColumns.forEach((function(e,t,n){a.push(e.dataIndex)})),this.settingColumns=a,this.columns=this.defColumns}else{this.settingColumns=t;var n=this.defColumns.filter((function(e){return"rowIndex"==e.key||"action"==e.dataIndex||!!t.includes(e.dataIndex)}));this.columns=n}},setDefaultWithdraw:function(e){var t=this;this.loading=!0,Object(d["j"])(this.url.SetMerchantWithdrawWallet,{iId:e}).then((function(e){e.success?(t.$message.success(e.message),t.loadData()):(t.$message.warning(e.message),t.loading=!1)}))},iStatusSwitch:function(){var e=this,t=arguments[0][0],a=(arguments[0][1],arguments[0][2]);a.iStatusLoading=!0;var n={iId:a.iId,iStatus:t?1:0};Object(d["j"])(this.url.iStatusSwitch,n).then((function(n){if(n.success){var r=t?"已启用该账户":"已冻结该账户";e.$message.success(r),a.iStatusLoading=!1}else e.$message.warning(n.message),a.iStatusLoading=!1,a.iStatus=!t}))},initResDatas:function(e){return e.forEach((function(e){e.showDetail=!0})),e},ColdPurse:function(e){this.$refs.modalForm.model=e,this.$refs.modalForm.init(e,this.dataSource),this.$refs.modalForm.visible=!0}}),created:function(){this.initColumns()}},y=b,C=(a("b2da0"),a("2877")),w=Object(C["a"])(y,n,r,!1,null,"e5a8c800",null);t["default"]=w.exports},a6a1:function(e,t,a){},b2da0:function(e,t,a){"use strict";var n=a("a6a1"),r=a.n(n);r.a},c6f6:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("2f62");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o={data:function(){return{selecedChain:null,selecedChainTwo:null,needTag:!1}},computed:{chains:function(){var e=this.getChains();return e},tokens:function(){return this.getAllTokenList()},tokenNames:function(){var e=this.getTokenNames()||[];return e},chainTokens:function(){var e=this,t=this.chains.findIndex((function(t){return t.sChain==e.selecedChain}));return t<0?[]:this.chains[t].children},chainTokensTwo:function(){var e=this,t=this.chains.findIndex((function(t){return t.sChain==e.selecedChainTwo}));return t<0?[]:this.chains[t].children}},methods:s({},Object(n["c"])(["getChains","getTokenNames","getAllTokenList"]),{},Object(n["b"])(["GetTokens"]),{onChainChange:function(e){this.selecedChain=e,this.needTag=this.chains.find((function(t){return t.sChain===e})).iNeedTag,this.form.setFieldsValue({sToken:void 0})}})}}}]);