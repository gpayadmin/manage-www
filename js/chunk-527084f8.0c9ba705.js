(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-527084f8"],{2861:function(e,a,i){"use strict";i.r(a);var s=function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("a-card",{attrs:{bordered:!1}},[i("a-spin",{attrs:{spinning:e.loading}},[i("a-row",{attrs:{gutter:48}},[i("a-col",{attrs:{span:12}},[i("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{message:"商户费率（试行）由“基础费率”和“优惠费率”构成；若基础费率为2%，当前评级（商户评级规则正在制定中）的优惠费率为0.1%，则商户每成交一单，实际到账的USDT为订单数量的（100%-2%+0.1%）=98.1%",type:"info","show-icon":""}}),i("a-card",{attrs:{title:"商户费率"}},[i("a-list",[i("a-list-item",{key:"1"},[i("a-list-item-meta",{attrs:{description:"商户每成交一单所需支付的费率"}},[i("div",{attrs:{slot:"title"},slot:"title"},[e._v("基础费率")])]),i("div",[e.editMerchantBasicFee?i("span",[i("a-input-number",{attrs:{min:0,max:100,size:"small"},model:{value:e.merchantBasicFeeValue,callback:function(a){e.merchantBasicFeeValue=a},expression:"merchantBasicFeeValue"}}),e._v(" %\n                  "),i("a",{on:{click:function(a){e.editMerchantBasicFee=!1,e.merchantBasicFeeValue=e.merchantBasicFee.value}}},[e._v("取消")]),i("a-divider",{attrs:{type:"vertical"}}),i("a",{on:{click:e.saveMerchantBasicFee}},[e._v("保存")])],1):i("span",[i("div",{staticClass:"cost-fee"},[e._v(e._s(e.merchantBasicFee.value)+" %")]),i("a",{on:{click:function(a){e.editMerchantBasicFee=!0}}},[e._v("修改")])])])],1),i("a-list-item",{key:"2"},[i("a-list-item-meta",{attrs:{description:"商户根据成交量达到一定评级后，每单所获得的优惠费率（根据级别有所不同）"}},[i("div",{attrs:{slot:"title"},slot:"title"},[e._v("优惠费率")])]),i("div",[e._v("\n                开发中，敬请期待\n              ")])],1)],1)],1)],1)],1)],1)],1)},t=[],n=i("0fea"),c={name:"FeeRateSetting",data:function(){return{merchantBasicFee:{id:null,value:0},adsRewardBasicFee:{id:null,value:0},editMerchantBasicFee:!1,editAdsRewardBasicFee:!1,url:{AddConfig:"/v1/udc/AddConfig",ChgConfig:"/v1/udc/ChgConfig",GetConfigList:"/v1/udc/GetConfigList"},loading:!1,merchantBasicFeeValue:0,adsRewardBasicFeeValue:0}},created:function(){this.loadData()},methods:{loadData:function(){var e=this,a={iPageNo:0,iPageSize:30,sAppId:"OTCService"};Object(n["j"])(this.url.GetConfigList,a).then((function(a){a.result.data.vList.forEach((function(a){"MerchantFee"===a.sKey1&&(e.merchantBasicFee.id=a.iId,e.merchantBasicFeeValue=e.merchantBasicFee.value=100*Number(a.sStringValue)),"AdsReward"===a.sKey1&&"BasicReward"===a.sKey2&&(e.adsRewardBasicFee.id=a.iId,e.adsRewardBasicFeeValue=e.adsRewardBasicFee.value=100*Number(a.sStringValue))}))}))},saveMerchantBasicFee:function(){var e=this;if(this.merchantBasicFeeValue||0===this.merchantBasicFeeValue)if(this.adsRewardBasicFee.value>this.merchantBasicFeeValue)this.$message.error("商户交易费率不能小于广告商奖励费率");else{this.loading=!0;var a={iId:this.merchantBasicFee.id,sAppId:"OTCService",sKey1:"MerchantFee",sKey2:"BasicFee",sStringValue:(this.merchantBasicFeeValue/100).toString(),iIntValue:0,iBigIntValue:0,sAdditional:"",sDescription:""};Object(n["j"])(this.url.ChgConfig,a).then((function(a){a.success?(e.$message.success("修改成功！"),e.editMerchantBasicFee=!1,e.loadData()):e.$message.error(a.message)})).finally((function(){e.loading=!1}))}else this.$message.error("配置不能为空")},saveAdsRewardBasicFee:function(){var e=this;if(this.adsRewardBasicFeeValue||0===this.adsRewardBasicFeeValue)if(this.adsRewardBasicFeeValue>this.merchantBasicFee.value)this.$message.error("广告商奖励费率不能大于商户交易费率");else{this.loading=!0;var a={iId:this.adsRewardBasicFee.id,sAppId:"OTCService",sKey1:"AdsReward",sKey2:"BasicReward",sStringValue:(this.adsRewardBasicFeeValue/100).toString(),iIntValue:0,iBigIntValue:0,sAdditional:"",sDescription:""};Object(n["j"])(this.url.ChgConfig,a).then((function(a){a.success?(e.$message.success("修改成功！"),e.editAdsRewardBasicFee=!1,e.loadData()):e.$message.error(a.message)})).finally((function(){e.loading=!1}))}else this.$message.error("配置不能为空")}}},r=c,d=(i("2f6e"),i("2877")),l=Object(d["a"])(r,s,t,!1,null,"548d33fe",null);a["default"]=l.exports},"2f6e":function(e,a,i){"use strict";var s=i("e316"),t=i.n(s);t.a},e316:function(e,a,i){}}]);